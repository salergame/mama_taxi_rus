

  import 'package:agora_uikit/agora_uikit.dart'; 

  final AgoraClient client = AgoraClient( 
    agoraConnectionData: AgoraConnectionData( 
      appId: "e7f6e9aeecf14b2ba10e3f40be9f56e7", 
      channelName: "test", 
      tempToken: token, 
    ), 
    enabledPermission: [ 
      Permission.camera, 
      Permission.microphone, 
    ], 
  ); 
  
  @override 
  void initState() { 
    super.initState(); 
    initAgora(); 
  } 
  
  void initAgora() async { 
    await client.initialize(); 
  } 
  
  @override 
  Widget build(BuildContext context) { 
    return MaterialApp( 
      home: Scaffold( 
        body: SafeArea( 
          child: Stack( 
            children: [ 
              AgoraVideoViewer(client: client),  
              AgoraVideoButtons(client: client), 
            ], 
          ), 
        ), 
      ), 
    ); 
  } 

